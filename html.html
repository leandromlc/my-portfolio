<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Leandro M. L. C. - Portfólio</title>

    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts for monospace font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* Custom styles for the terminal theme */
      body {
        font-family: "Fira Code", monospace;
        background-color: #1a1b26;
        color: #c0caf5;
      }

      /* Custom colors for Tailwind */
      .bg-terminal {
        background-color: #1a1b26;
      }
      .text-prompt {
        color: #7aa2f7;
      }
      .text-output-green {
        color: #9ece6a;
      }
      .text-output-white {
        color: #c0caf5;
      }
      .text-output-cyan {
        color: #7dcfff;
      }

      /* Style for the actual input field (hidden) */
      #command-input {
        position: absolute;
        left: -9999px; /* Move off-screen */
        opacity: 0;
      }

      /* Style for the custom blinking cursor */
      .cursor {
        display: inline-block;
        background-color: #c0caf5;
        width: 2px; /* Thicker cursor */
        height: 1.2em;
        animation: blink 1s step-end infinite;
        vertical-align: middle; /* Align with text */
      }

      @keyframes blink {
        from,
        to {
          background-color: transparent;
        }
        50% {
          background-color: #c0caf5;
        }
      }
    </style>
  </head>
  <body class="bg-terminal min-h-screen p-4 md:p-8">
    <!-- Terminal container -->
    <div
      id="terminal"
      class="w-full h-full max-w-4xl mx-auto rounded-lg overflow-hidden shadow-2xl"
      onclick="document.getElementById('command-input').focus()"
    >
      <div class="bg-gray-800 p-3 flex items-center">
        <div class="flex space-x-2">
          <div class="w-3 h-3 rounded-full bg-red-500"></div>
          <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
          <div class="w-3 h-3 rounded-full bg-green-500"></div>
        </div>
        <div class="flex-1 text-center text-sm text-gray-400">
          leandro@portfolio
        </div>
      </div>

      <div id="terminal-body" class="p-4 h-[80vh] overflow-y-auto">
        <!-- Output will be rendered here -->
        <div id="output"></div>

        <!-- Input line with custom cursor -->
        <div id="input-line" class="flex items-center">
          <span class="text-prompt">leandro@portfolio:~$</span>
          <span id="input-text-display" class="ml-2 whitespace-pre"></span>
          <span class="cursor w-2"></span>
          <input
            type="text"
            id="command-input"
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
          />
        </div>
      </div>
    </div>

    <script>
      // DOM Elements
      const outputElement = document.getElementById("output");
      const inputElement = document.getElementById("command-input");
      const inputTextDisplay = document.getElementById("input-text-display");
      const terminalBody = document.getElementById("terminal-body");

      // Command data from the blueprint
      const commands = {
        whoami: `
<span class="text-output-green font-bold"># Leandro M. L. C.</span>
<span class="text-output-cyan"># Tech Lead <span class="font-bold">|</span> Staff+ Engineer <span class="font-bold">|</span> SRE</span>

Iniciei minha jornada em tecnologia em 2013. Ao longo dos anos, naveguei por diversas
tecnologias e papéis, evoluindo de uma posição generalista<span class="font-bold">/</span>full-stack para me tornar
um especialista focado em Backend, Cloud e SRE.

Hoje, minha paixão é construir sistemas distribuídos que sejam escaláveis, resilientes
e observáveis. Tenho um forte foco em automação, arquitetura de software e em criar
soluções que resolvem problemas complexos de negócio.
            `,
        skills: `
<span class="text-output-cyan">[Languages]</span>
- Go          - Python      - Java
- Kotlin      - Node.js     - Shell Script

<span class="text-output-cyan">[Cloud & DevOps]</span>
- AWS         - Kubernetes  - Docker
- Terraform   - ArgoCD      - Istio
- Jenkins     - CI<span class="font-bold">/</span>CD

<span class="text-output-cyan">[Observability]</span>
- Prometheus  - Grafana     - Loki
- Tempo       - OpenTelemetry

<span class="text-output-cyan">[Databases]</span>
- PostgreSQL  - MySQL       - Redis
- DynamoDB    - MongoDB

<span class="text-output-cyan">[Messaging]</span>
- Kafka       - RabbitMQ    - SQS
            `,
        experience: `
<span class="text-output-cyan">[2022-Present] Tech Lead @ C6 Bank</span>
  - Liderança técnica de times, definição de arquiteturas e boas práticas.
  - Foco em SRE, melhorando a confiabilidade e performance dos sistemas.
  - Evolução para Staff+ Engineer, com atuação em desafios de maior complexidade.

<span class="text-output-cyan">[2020-2022] Senior Software Engineer @ C6 Bank</span>
  - Desenvolvimento de microsserviços e soluções para o setor bancário.

<span class="text-output-cyan">[2019-2020] Senior Systems Analyst @ Avanade</span>
  - Atuação em projetos de grande porte com tecnologias Microsoft (.NET).

<span class="text-output-cyan">[2017-2019] Systems Analyst @ BRQ Digital Solutions</span>
  - Análise e desenvolvimento de sistemas para o setor financeiro.

<span class="text-output-cyan">[2013-2017] Programmer @ everis</span>
  - Início da carreira, atuando no desenvolvimento de software.
            `,
        projects: `
<span class="text-output-cyan">1. [golang-api-rest-hexagonal]</span>
   - Desc: API em Go aplicando conceitos de Arquitetura Hexagonal, Clean Architecture e DDD.
   - Link: <a href="https://github.com/leandromlc/golang-api-rest-hexagonal" target="_blank" class="text-blue-400 underline">https://github.com/leandromlc/golang-api-rest-hexagonal</a>

<span class="text-output-cyan">2. [k8s-argocd-istio-observe]</span>
   - Desc: Laboratório de Kubernetes com GitOps (ArgoCD), Service Mesh (Istio) e stack de Observability.
   - Link: <a href="https://github.com/leandromlc/k8s-argocd-istio-observe" target="_blank" class="text-blue-400 underline">https://github.com/leandromlc/k8s-argocd-istio-observe</a>

<span class="text-output-cyan">3. [Home-Assistant-Config]</span>
   - Desc: Minhas configurações de automação residencial com Home Assistant.
   - Link: <a href="https://github.com/leandromlc/Home-Assistant-Config" target="_blank" class="text-blue-400 underline">https://github.com/leandromlc/Home-Assistant-Config</a>
            `,
        contact: `
- LinkedIn: <a href="https://www.linkedin.com/in/leandromlc/" target="_blank" class="text-blue-400 underline">https://www.linkedin.com/in/leandromlc/</a>
- GitHub:   <a href="https://github.com/leandromlc" target="_blank" class="text-blue-400 underline">https://github.com/leandromlc</a>
- Email:    <a href="mailto:leandro.mleite.c@gmail.com" class="text-blue-400 underline">leandro.mleite.c@gmail.com</a>
            `,
        help: `
Available commands:
  <span class="text-output-green">whoami</span>          - Displays a short biography.
  <span class="text-output-green">skills</span>          - Lists my main technical skills.
  <span class="text-output-green">experience</span>      - Shows my professional work history.
  <span class="text-output-green">projects</span>        - Lists some of my featured projects.
  <span class="text-output-green">contact</span>         - Shows contact information and social links.
  <span class="text-output-green">clear</span>           - Clears the terminal screen.
  <span class="text-output-green">all</span>             - Runs all commands at once.
            `,
      };

      const history = [];
      let historyIndex = -1;

      // Function to scroll to the bottom of the terminal
      const scrollToBottom = () => {
        terminalBody.scrollTop = terminalBody.scrollHeight;
      };

      // Function to display text with a typing effect, handling HTML tags correctly
      const typeEffect = (element, text, callback) => {
        let i = 0;
        const speed = 10; // Typing speed in milliseconds

        function type() {
          if (i < text.length) {
            const char = text.charAt(i);
            if (char === "<") {
              const endIndex = text.indexOf(">", i);
              if (endIndex !== -1) {
                element.innerHTML += text.substring(i, endIndex + 1);
                i = endIndex;
              } else {
                element.innerHTML += char;
              }
            } else {
              element.innerHTML += char;
            }
            i++;
            scrollToBottom();
            setTimeout(type, speed);
          } else if (callback) {
            callback();
          }
        }
        type();
      };

      // Function to display output instantly
      const printOutput = (htmlContent) => {
        const div = document.createElement("div");
        div.style.whiteSpace = "pre-wrap";
        div.innerHTML = htmlContent;
        outputElement.appendChild(div);
        scrollToBottom();
      };

      // Mirror the hidden input's value to the display span
      inputElement.addEventListener("input", () => {
        inputTextDisplay.textContent = inputElement.value;
      });

      // Handle command input
      inputElement.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          const command = inputElement.value.trim().toLowerCase();

          if (command) {
            history.push(command);
            historyIndex = history.length;

            const promptLine = document.createElement("div");
            promptLine.innerHTML = `<span class="text-prompt">leandro@portfolio:~$</span> <span class="text-output-white">${command}</span>`;
            outputElement.appendChild(promptLine);

            executeCommand(command);
          }

          inputElement.value = "";
          inputTextDisplay.textContent = "";
          scrollToBottom();
          
        } else if (e.key === "ArrowUp") {
          if (history.length > 0 && historyIndex > 0) {
            historyIndex--;
            inputElement.value = history[historyIndex];
            inputTextDisplay.textContent = inputElement.value;
          }
        } else if (e.key === "ArrowDown") {
          if (historyIndex < history.length - 1) {
            historyIndex++;
            inputElement.value = history[historyIndex];
            inputTextDisplay.textContent = inputElement.value;
          } else {
            historyIndex = history.length;
            inputElement.value = "";
            inputTextDisplay.textContent = "";
          }
        }
      });

      // Execute commands
      const executeCommand = async (command) => {
        if (command === "clear") {
          outputElement.innerHTML = "";
        } else if (command === "all") {
          for (const cmd of [
            "whoami",
            "skills",
            "experience",
            "projects",
            "contact",
          ]) {
            const promptLine = document.createElement("div");
            promptLine.innerHTML = `<br><span class="text-prompt">leandro@portfolio:~$</span> <span class="text-output-white">${cmd}</span>`;
            outputElement.appendChild(promptLine);
            printOutput(commands[cmd]);
            await new Promise((resolve) => setTimeout(resolve, 300));
          }
        } else if (commands[command]) {
          printOutput(commands[command]);
        } else {
          printOutput(
            `Command not found: ${command}. Type 'help' for a list of commands.`
          );
        }
      };

      // Initial welcome message with typing effect
      const welcomeMessage = `LeandroOS v1.0 Kernel (leandromlc.dev)

Booting system... <span class="text-output-green">Done.</span>
Initializing services... <span class="text-output-green">Done.</span>
Mounting virtual filesystem... <span class="text-output-green">Done.</span>

Welcome to my professional portfolio.
Type 'help' to see the list of available commands.
`;

      const init = () => {
        const welcomeDiv = document.createElement("div");
        welcomeDiv.style.whiteSpace = "pre-wrap";
        outputElement.appendChild(welcomeDiv);

        inputElement.disabled = true;
        typeEffect(welcomeDiv, welcomeMessage, () => {
          inputElement.disabled = false;
          inputElement.focus();
        });
      };

      // Start the terminal
      init();
    </script>
  </body>
</html>
